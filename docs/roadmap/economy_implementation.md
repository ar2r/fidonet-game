# План реализации Экономики и Скиллов (Implementation Plan)

Этот документ описывает технические шаги по реализации улучшенной экономической модели и системы навыков.

## Фаза 1: Рефакторинг Состояния (State Refactoring)

### 1.1. Обновление `playerSlice` (Store)
*   [ ] Добавить структуру `wallet` для разделения валют (RUR, USD, BBS Credits).
*   [ ] Добавить `transactionHistory` (массив последних операций с деньгами).
*   [ ] Расширить `stats` новыми параметрами:
    *   `reputation` (общая репутация).
    *   `hardwareLevel` (уровень железа, влияет на сложные задачи).
*   [ ] Реализовать систему "кулдаунов" для работы (усталость).

### 1.2. Обновление `gameStateSlice` (Billing)
*   [ ] Добавить трекинг `connectionMinutes` (общее время в онлайне за месяц).
*   [ ] Разделить время на `localMinutes` (бесплатно/дешево) и `longDistanceMinutes` (межгород, дорого).
*   [ ] Реализовать логику `billingCycle` (сброс счетчиков и выставление счета каждое 1 число месяца).

## Фаза 2: Система Работы (Job System)

### 2.1. Создание `JobRegistry`
*   [ ] Создать файл `src/content/jobs/data.js` со списком доступных работ.
    *   Структура Job: `{ id, title, type (repair/soft/hack), difficulty, risk, reward, timeCost, skillReq }`.
*   [ ] Реализовать генератор случайных заказов (Daily Jobs).

### 2.2. Команда `JOBS` / `BOARD`
*   [ ] Добавить команду `JOBS` в `apps.js` для вывода списка доступных заказов.
*   [ ] Добавить команду `TAKE <job_id>` для принятия заказа.
*   [ ] Реализовать механику выполнения:
    *   Проверка требований (Скиллы, Железо).
    *   Шанс успеха (roll d100 vs Skill).
    *   Расчет награды и последствий (усталость, деньги, репутация).

### 2.3. Интеграция с UI
*   [ ] (Опционально) Создать визуальное окно "Доска Объявлений" (BBS Ad Board).

## Фаза 3: Магазин и Инвентарь (Shop & Inventory)

### 3.1. Логика Магазина (`ShopEngine`)
*   [ ] Создать `src/engine/shop.js`.
*   [ ] Реализовать инвентарь магазина (товары, цены, наличие).
*   [ ] Цены могут меняться (например, дефицит памяти).

### 3.2. Компонент `RadioMarket`
*   [ ] Обновить `RadioMarket.jsx` для отображения списка товаров.
*   [ ] Реализовать покупку:
    *   Проверка денег.
    *   Добавление предмета в инвентарь (`player.inventory` или `player.equipment`).
    *   Списание денег.

### 3.3. Эффекты Предметов
*   [ ] **Modem**: Обновить `network.js`, чтобы скорость скачивания (`downloadSpeed`) зависела от модели модема.
*   [ ] **HDD**: Обновить `fileSystem.js`, добавить лимит на размер файлов (`diskSpace`).
*   [ ] **CPU/RAM**: Влияют на скорость выполнения задач (компиляция, архивация) и возможность запуска игр.

## Фаза 4: Скиллы и Прокачка (Skills Progression)

### 4.1. Механика Роста
*   [ ] Реализовать функцию `gainSkillExp(skill, amount)`.
*   [ ] Скиллы растут от использования:
    *   `Typing`: За каждую введенную команду (малый прирост) или победу в мини-игре "Typing Tutor".
    *   `Hardware`: За успешный ремонт или апгрейд.
    *   `Software`: За настройку софта, написание батников, взлом.

### 4.2. Влияние Скиллов
*   [ ] Добавить проверки скиллов в квесты и диалоги.
*   [ ] Высокий `Eloquence` позволяет торговаться на рынке (-10% цены).
*   [ ] Высокий `Software` позволяет писать вирусы или эффективнее их лечить.
